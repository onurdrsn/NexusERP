[build]
  command = "npm run build"
  publish = "dist"

[dev]
  command = "npm run dev"
  framework = "#static"
  targetPort = 5173

# Auth Routes
[[redirects]]
  from = "/api/auth/*"
  to = "/.netlify/functions/auth"
  status = 200

# Product Routes
[[redirects]]
  from = "/api/products"
  to = "/.netlify/functions/products"
  status = 200

[[redirects]]
  from = "/api/products/*"
  to = "/.netlify/functions/products"
  status = 200

# Stock Routes
[[redirects]]
  from = "/api/stock"
  to = "/.netlify/functions/stock"
  status = 200

[[redirects]]
  from = "/api/stock/*"
  to = "/.netlify/functions/stock"
  status = 200

# Order Routes
[[redirects]]
  from = "/api/orders"
  to = "/.netlify/functions/orders"
  status = 200

[[redirects]]
  from = "/api/orders/*"
  to = "/.netlify/functions/orders"
  status = 200

# Dashboard Route
[[redirects]]
  from = "/api/dashboard"
  to = "/.netlify/functions/dashboard"
  status = 200

# Users Route
[[redirects]]
  from = "/api/users"
  to = "/.netlify/functions/users"
  status = 200

# Roles Route
[[redirects]]
  from = "/api/roles"
  to = "/.netlify/functions/roles"
  status = 200

# Suppliers Route
[[redirects]]
  from = "/api/suppliers"
  to = "/.netlify/functions/suppliers"
  status = 200

# Purchase Orders Route
[[redirects]]
  from = "/api/purchase-orders/*"
  to = "/.netlify/functions/purchase_orders"
  status = 200

[[redirects]]
  from = "/api/purchase-orders"
  to = "/.netlify/functions/purchase_orders"
  status = 200

# Customers Route
[[redirects]]
  from = "/api/customers"
  to = "/.netlify/functions/customers"
  status = 200

# Catch-all for frontend
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
